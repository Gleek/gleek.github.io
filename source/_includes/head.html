<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
  <meta name="author" content="{{ site.author }}">
{% capture description %}
  {% if page.description %}
    {{page.description }}
  {% elsif site.description %}
    {{site.description }}
  {% else %}
    {{ content | raw_content }}
  {% endif %}
{% endcapture %}
  <meta name="description" content="{{ description | strip_html | condense_spaces | truncate:150 }}">

  {% if page.tags %}<meta name="keywords" content="{{ page.tags | join: ', ' }}">{% else %}
  <meta name="keywords" content="{{ site.keyword }}">{% endif %}

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  {% capture canonical %}{{ site.url }}{% if site.permalink contains '.html' %}{{ page.url }}{% else %}{{ page.url | remove:'index.html' | strip_slash }}{% endif %}{% endcapture %}
  <link rel="canonical" href="{{ canonical }}">
  <link href="{{ root_url }}/favicon.png" type="image/png" rel="icon">
  <link href="{{ site.subscribe_rss }}" rel="alternate" title="{{site.title}}" type="application/atom+xml">
  <script type="text/javascript">
   function loadScript(url, callback, requireJquery) {
     if (typeof requireJquery === 'undefined') {
       requireJquery = false;
     }
     var script = document.createElement("script")
     script.type = "text/javascript";

     if (script.readyState){  //IE
       script.onreadystatechange = function(){
         if (script.readyState == "loaded" ||
             script.readyState == "complete"){
           script.onreadystatechange = null;
           if (requireJquery) {
             deferJquery(callback);
           } else {
             callback();
           }
         }
       };
     } else {  //Others
       script.onload = function(){
         if (requireJquery) {
           deferJquery(callback);
         } else {
           callback();
         }
       };
     }
     script.src = url;
     document.body.appendChild(script);
   }
   function deferJquery(method) {
     if (window.jQuery) {
       method();
     } else {
       setTimeout(function() { deferJquery(method) }, 50);
     }
   }
  </script>

  {% include custom/head.html %}
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <!-- <script src="{{ root_url }}/javascripts/libs/jquery/jquery-2.0.3.min.js"></script> -->
  {% include google_analytics.html %}
  {% include custom/lunr-search/search-results-template.html %}
</head>
